% Note, [fragile] is neede when using jlcode
\begin{frame}[fragile]{Plotting}

Plot using \jlv{PGFPlots.jl}\footnote{\url{https://github.com/JuliaTeX/PGFPlots.jl}} directly in the TeX file.
\begin{jlcode}
    p = let
        times = collect(1:10)
        τ = [-1.0, -3.2, 2.0, 1.5, 3.0, 0.5, -0.5, -2.0, -4.0, -1.5];

        times = collect(1:10)
        τ = [-1.0, -3.2, 2.0, 1.5, 3.0, 0.5, -0.5, -2.0, -4.0, -1.5];

        xmin, xmax, ymin, ymax = 1, 10, -5, 4
        ax = Axis(xmin=xmin, xmax=xmax, ymin=ymin, ymax=ymax, width="9cm", height="4.5cm")
        push!(ax, Plots.Linear(times, τ, style="solid, mark=*, gray, line width=1pt, mark options={fill=gray!50, draw=gray}, mark size=2pt"))
        push!(ax, Plots.Linear([xmin, xmax], [0, 0], style="dashed, mark=none, black, line width=1pt"))
        push!(ax, Plots.Scatter([5], [3], style="only marks, mark=*, mark size=2pt, mark options={fill=pastelSkyBlue!50, draw=pastelSkyBlue}"))
        push!(ax, Plots.Linear([xmin, xmax], [3, 3], style="dashed, mark=none, pastelSkyBlue, line width=1pt"))
        push!(ax, Plots.Command("\\node at (axis cs: 8, 2.3) {\\scriptsize \\textcolor{pastelSkyBlue}{\$\\rho_1\$}};"))
        push!(ax, Plots.Scatter([9], [-4], style="only marks, mark=*, mark size=2pt, mark options={fill=pastelPurple!50, draw=pastelPurple}"))
        push!(ax, Plots.Linear([xmin, xmax], [-4, -4], style="dashed, mark=none, pastelPurple, line width=1pt"))
        push!(ax, Plots.Command("\\node at (axis cs: 5, -3.3) {\\scriptsize \\textcolor{pastelPurple}{\$\\rho_2\$}};"))
        ax.xlabel = "Time"
        ax.ylabel = L"s"
        ax
    end
    plot(p)
\end{jlcode}
\begin{figure}
    \begin{center}
        \plot{fig/jl_robustness}
    \end{center}
\end{figure}

\end{frame}